



# InkFlow âœ’ï¸ - å†…å®¹åˆ†äº«ç¤¾åŒºå¹³å°

<div align="center">

**ç°ä»£åŒ–çš„å†…å®¹åˆ†äº«ç¤¾åŒº | Go + Vue 3 å®è·µ**

[![Go Version](https://img.shields.io/badge/Go-1.24.0+-00ADD8?style=flat&logo=go)](https://go.dev/)
[![Vue Version](https://img.shields.io/badge/Vue-3.x-4FC08D?style=flat&logo=vue.js)](https://vuejs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.x-3178C6?style=flat&logo=typescript)](https://www.typescriptlang.org/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

</div>

## ğŸ“– é¡¹ç›®ç®€ä»‹

InkFlow æ˜¯ä¸€ä¸ªä½¿ç”¨ **Go + Gin + GORM** æ„å»ºçš„æ¨¡å—åŒ–å†…å®¹åˆ†äº«ç¤¾åŒºå¹³å°ï¼Œæ”¯æŒå†…å®¹åˆ›ä½œã€AI å®¡æ ¸ã€è¯„è®ºäº’åŠ¨ã€æ ‡ç­¾æœç´¢ã€é€šçŸ¥æé†’ç­‰å®Œæ•´çš„å†…å®¹åˆ†å‘é—­ç¯ã€‚é¡¹ç›®é‡‡ç”¨é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰å’Œäº‹ä»¶é©±åŠ¨æ¶æ„ï¼Œé›†æˆ Vue 3 å‰ç«¯ã€Temporal å·¥ä½œæµç¼–æ’ã€Gorse æ¨èå¼•æ“ã€Kafka æ¶ˆæ¯é˜Ÿåˆ—ã€Meilisearch å…¨æ–‡æœç´¢ç­‰ç°ä»£æŠ€æœ¯æ ˆï¼Œå…·å¤‡è‰¯å¥½çš„å¯æ‰©å±•æ€§å’Œé«˜å¹¶å‘æ”¯æŒèƒ½åŠ›ã€‚

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æ ¸å¿ƒè®¾è®¡ç†å¿µ

#### åç«¯æ¶æ„
- **DDD åˆ†å±‚**ï¼šDomainï¼ˆé¢†åŸŸæ¨¡å‹ï¼‰â†’ Serviceï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰â†’ Repoï¼ˆæ•°æ®è®¿é—®ï¼‰â†’ DAO/Cache
- **æ¨¡å—åŒ–**ï¼š17+ ç‹¬ç«‹ä¸šåŠ¡æ¨¡å—ï¼Œå„å¸å…¶èŒï¼Œä½è€¦åˆé«˜å†…èš
- **äº‹ä»¶é©±åŠ¨**ï¼šKafka æ¶ˆæ¯é˜Ÿåˆ—å®ç°æ¨¡å—é—´å¼‚æ­¥é€šä¿¡
- **å·¥ä½œæµç¼–æ’**ï¼šTemporal ç®¡ç†å¤æ‚ä¸šåŠ¡æµç¨‹ï¼ˆå‘å¸ƒã€å®¡æ ¸ã€åˆ†å‘ï¼‰
- **å¤šçº§ç¼“å­˜**ï¼šRedis ç¼“å­˜ + Lua è„šæœ¬ä¿è¯æ€§èƒ½å’Œä¸€è‡´æ€§

#### å‰ç«¯æ¶æ„
- **ç»„ä»¶åŒ–**ï¼š50+ å¯å¤ç”¨ Vue ç»„ä»¶ï¼Œç»Ÿä¸€è®¾è®¡è§„èŒƒ
- **å“åº”å¼**ï¼šç§»åŠ¨ç«¯/æ¡Œé¢ç«¯è‡ªé€‚åº”å¸ƒå±€
- **çŠ¶æ€ç®¡ç†**ï¼šPinia å…¨å±€çŠ¶æ€ï¼Œæ¨¡å—åŒ– Store
- **ç±»å‹å®‰å…¨**ï¼šTypeScript å…¨é¢ç±»å‹å®šä¹‰
- **æ€§èƒ½ä¼˜åŒ–**ï¼šè™šæ‹Ÿæ»šåŠ¨ã€æ‡’åŠ è½½ã€å›¾ç‰‡ä¼˜åŒ–

---

## âœ¨ åŠŸèƒ½ç‰¹è‰²

### ğŸ¨ å‰ç«¯åŠŸèƒ½

#### ğŸ“ å†…å®¹åˆ›ä½œ
- **Markdown ç¼–è¾‘å™¨**ï¼šæ‰€è§å³æ‰€å¾—çš„ç¼–è¾‘ä½“éªŒï¼ˆåŸºäº Milkdownï¼‰
- **è‰ç¨¿è‡ªåŠ¨ä¿å­˜**ï¼šé˜²æ­¢å†…å®¹ä¸¢å¤±
- **å›¾ç‰‡ä¸Šä¼ **ï¼šæ‹–æ‹½ä¸Šä¼  + è£å‰ªåŠŸèƒ½
- **å°é¢è®¾ç½®**ï¼šè‡ªåŠ¨æå–/æ‰‹åŠ¨ä¸Šä¼ å°é¢
- **æ ‡ç­¾ç®¡ç†**ï¼šçƒ­é—¨æ ‡ç­¾æ¨è + è‡ªå®šä¹‰æ ‡ç­¾

#### ğŸ  å†…å®¹æµè§ˆ
- **å¤šç§ Feed æµ**ï¼š
  - å…³æ³¨ Feedï¼šå…³æ³¨ä½œè€…çš„æœ€æ–°å†…å®¹
  - æ¨è Feedï¼šåŸºäº Gorse çš„ä¸ªæ€§åŒ–æ¨è
  - çƒ­é—¨ Feedï¼šæŒ‰çƒ­åº¦æ’åºçš„çƒ­é—¨å†…å®¹
- **å¤šç§å¸ƒå±€**ï¼šç€‘å¸ƒæµå¸ƒå±€ / Twitter é£æ ¼ / é•¿æ–‡å¸ƒå±€
- **æ— é™æ»šåŠ¨**ï¼šæµç•…çš„åˆ†é¡µåŠ è½½ä½“éªŒ
- **å®æ—¶äº’åŠ¨**ï¼šç‚¹èµã€æ”¶è—ã€è¯„è®ºå®æ—¶æ›´æ–°

#### ğŸ” æœç´¢ä¸å‘ç°
- **å…¨æ–‡æœç´¢**ï¼šå†…å®¹ã€ç”¨æˆ·ã€æ ‡ç­¾å…¨é¢æ£€ç´¢
- **æœç´¢é«˜äº®**ï¼šå…³é”®è¯åŒ¹é…é«˜äº®æ˜¾ç¤º
- **çƒ­é—¨æ ‡ç­¾**ï¼šå‘ç°çƒ­é—¨è¯é¢˜
- **ç›¸ä¼¼æ¨è**ï¼šå†…å®¹/ä½œè€…ç›¸ä¼¼æ¨è

#### ğŸ‘¤ ç”¨æˆ·ç³»ç»Ÿ
- **ä¸ªäººä¸»é¡µ**ï¼š
  - ç”¨æˆ·èµ„æ–™å±•ç¤º
  - å†…å®¹åˆ—è¡¨ï¼ˆå‘å¸ƒ/ç‚¹èµ/æ”¶è—ï¼‰
  - å…³æ³¨/ç²‰ä¸åˆ—è¡¨
- **ä¸ªäººä¸­å¿ƒ**ï¼š
  - èµ„æ–™ç¼–è¾‘
  - å¤´åƒ/Banner è£å‰ªä¸Šä¼ 
  - è‰ç¨¿ç®¡ç†
- **é€šçŸ¥ä¸­å¿ƒ**ï¼š
  - ç‚¹èµé€šçŸ¥
  - è¯„è®º/å›å¤é€šçŸ¥
  - å…³æ³¨é€šçŸ¥
  - ç³»ç»Ÿé€šçŸ¥

#### ğŸ’¬ ç¤¾äº¤äº’åŠ¨
- **å¤šçº§è¯„è®º**ï¼šæ”¯æŒè¯„è®ºå’Œå›å¤
- **çƒ­è¯„æ’åº**ï¼šæ™ºèƒ½å±•ç¤ºçƒ­é—¨è¯„è®º
- **è¡¨æƒ…æ”¯æŒ**ï¼šEmoji è¡¨æƒ…è¾“å…¥
- **å›¾ç‰‡è¯„è®º**ï¼šè¯„è®ºå¯é™„å¸¦å›¾ç‰‡
- **å®æ—¶é€šçŸ¥**ï¼šäº’åŠ¨å®æ—¶æ¨é€

---

### âš™ï¸ åç«¯åŠŸèƒ½

#### ğŸ” è®¤è¯æˆæƒ
- **JWT è®¤è¯**ï¼šAccess Token + Refresh Token
- **OAuth2 ç™»å½•**ï¼šGitHub ç¬¬ä¸‰æ–¹ç™»å½•
- **ä¼šè¯ç®¡ç†**ï¼šRedis ä¼šè¯å­˜å‚¨
- **æƒé™æ§åˆ¶**ï¼šä¸­é—´ä»¶çº§åˆ«çš„æƒé™éªŒè¯

#### ğŸ–Šï¸ å†…å®¹ç®¡ç†
- **è‰ç¨¿ç³»ç»Ÿ**ï¼šè‰ç¨¿åº“ç‹¬ç«‹å­˜å‚¨
- **å†…å®¹å®¡æ ¸**ï¼šAI æ™ºèƒ½å®¡æ ¸ + äººå·¥å¤å®¡
- **å‘å¸ƒæµç¨‹**ï¼šTemporal å·¥ä½œæµç¼–æ’
  ```
  è‰ç¨¿æäº¤ â†’ AI å®¡æ ¸ â†’ å®¡æ ¸é€šè¿‡ â†’ åŒæ­¥çº¿ä¸Šåº“ â†’ ç´¢å¼•åŒæ­¥ â†’ æ¨èåŒæ­¥ â†’ Feed æ¨é€
  ```
- **å†…å®¹åˆ†å‘**ï¼šå¤šæ¸ é“å†…å®¹åˆ†å‘ï¼ˆæœç´¢/æ¨è/Feedï¼‰

#### ğŸ¤– AI æ™ºèƒ½å®¡æ ¸
- **å†…å®¹å®‰å…¨**ï¼šæ£€æµ‹è¿è§„ã€æ•æ„Ÿå†…å®¹
- **æ ‡ç­¾ç”Ÿæˆ**ï¼šAI è‡ªåŠ¨æå–å…³é”®è¯
- **å¤±è´¥é‡è¯•**ï¼šTemporal è‡ªåŠ¨é‡è¯•æœºåˆ¶
- **Failover**ï¼šå¤šæ¨¡å‹å®¹é”™åˆ‡æ¢

#### ğŸ¯ æ¨èç³»ç»Ÿ (Gorse)
- **ååŒè¿‡æ»¤**ï¼šåŸºäºç”¨æˆ·è¡Œä¸ºçš„æ¨èç®—æ³•
- **å®æ—¶æ¨è**ï¼šç”¨æˆ·è¡Œä¸ºå®æ—¶åé¦ˆ
- **å¤šç»´æ¨è**ï¼š
  - ä¸ªæ€§åŒ–å†…å®¹æ¨è
  - ç›¸ä¼¼å†…å®¹æ¨èï¼ˆåŸºäºæ ‡ç­¾ï¼‰
  - ç›¸ä¼¼ä½œè€…æ¨èï¼ˆåŸºäºç”¨æˆ·ç”»åƒï¼‰

#### ğŸ” æœç´¢ç³»ç»Ÿ (Meilisearch)
- **å…¨æ–‡ç´¢å¼•**ï¼šå†…å®¹ã€æ ‡é¢˜ã€æ ‡ç­¾å…¨é¢ç´¢å¼•
- **å¼‚æ­¥åŒæ­¥**ï¼šKafka æ¶ˆæ¯é©±åŠ¨ç´¢å¼•æ›´æ–°
- **é«˜æ€§èƒ½**ï¼šæ¯«ç§’çº§æœç´¢å“åº”
- **ç›¸å…³åº¦æ’åº**ï¼šæ™ºèƒ½ç›¸å…³åº¦ç®—æ³•

#### ğŸ“Š Feed æµç³»ç»Ÿ
- **æ¨æ‹‰ç»“åˆ**ï¼š
  - **æ¨æ¨¡å¼**ï¼šå†…å®¹å‘å¸ƒæ—¶æ¨é€ç»™æ´»è·ƒç²‰ä¸ï¼ˆ30 å¤©æ´»è·ƒï¼‰
  - **æ‹‰æ¨¡å¼**ï¼šç”¨æˆ·è¯·æ±‚æ—¶æ‹‰å–å…³æ³¨åˆ—è¡¨æœ€æ–°å†…å®¹
  - **æ··åˆç­–ç•¥**ï¼šæ¨æ‹‰ç»“æœåˆå¹¶ï¼Œä¿è¯å®æ—¶æ€§
- **å¤šç§æ’åº**ï¼šæ—¶é—´å€’åº / çƒ­åº¦æ’åº

#### ğŸ“ˆ çƒ­åº¦æ’å
- **å®æ—¶è®¡ç®—**ï¼šåŸºäºæµè§ˆã€ç‚¹èµã€æ”¶è—ã€è¯„è®ºçš„åŠ æƒè®¡ç®—
- **å®šæ—¶åˆ·æ–°**ï¼šTemporal å®šæ—¶ä»»åŠ¡æ›´æ–°æ’è¡Œæ¦œ
- **å¤šç»´åº¦æ¦œå•**ï¼šå†…å®¹çƒ­åº¦æ¦œ / æ ‡ç­¾çƒ­åº¦æ¦œ

#### ğŸ”” é€šçŸ¥ç³»ç»Ÿ
- **äº‹ä»¶é©±åŠ¨**ï¼šKafka æ¶ˆæ¯é©±åŠ¨é€šçŸ¥ç”Ÿæˆ
- **å¤šç±»å‹é€šçŸ¥**ï¼šç‚¹èµã€è¯„è®ºã€å…³æ³¨ã€ç³»ç»Ÿé€šçŸ¥
- **åˆå¹¶é€šçŸ¥**ï¼šç›¸åŒç±»å‹é€šçŸ¥æ™ºèƒ½åˆå¹¶
- **å·²è¯»ç®¡ç†**ï¼šæ‰¹é‡å·²è¯» / å•ä¸ªå·²è¯»

#### ğŸ“Š å¯è§‚æµ‹æ€§
- **Prometheus ç›‘æ§**ï¼šQPSã€å»¶è¿Ÿã€é”™è¯¯ç‡ç­‰æ ¸å¿ƒæŒ‡æ ‡
- **Jaeger è¿½è¸ª**ï¼šåˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª
- **ç»“æ„åŒ–æ—¥å¿—**ï¼šZap é«˜æ€§èƒ½æ—¥å¿—
- **GORM ç›‘æ§**ï¼šSQL æŸ¥è¯¢æ€§èƒ½ç›‘æ§

---

## ğŸ¯ æŠ€æœ¯äº®ç‚¹

### 1. Temporal å·¥ä½œæµç¼–æ’
- å¯è§†åŒ–ä¸šåŠ¡æµç¨‹ï¼šå†…å®¹å‘å¸ƒå…¨æµç¨‹å¯è§†åŒ–ç®¡ç†
- è‡ªåŠ¨å®¹é”™é‡è¯•ï¼šå¤±è´¥è‡ªåŠ¨é‡è¯•ï¼Œä¿è¯æœ€ç»ˆä¸€è‡´æ€§
- é•¿æ—¶æµç¨‹æ”¯æŒï¼šæ”¯æŒå¼‚æ­¥ç­‰å¾…ï¼ˆAI å®¡æ ¸ç»“æœï¼‰
- ä»»åŠ¡è°ƒåº¦ï¼šå®šæ—¶ä»»åŠ¡ï¼ˆçƒ­åº¦è®¡ç®—ã€å®¡æ ¸é‡è¯•ï¼‰

### 2. Gorse æ¨èå¼•æ“
- åŸºäºååŒè¿‡æ»¤çš„æ¨èç®—æ³•
- å®æ—¶ç”¨æˆ·è¡Œä¸ºè¿½è¸ªï¼ˆç‚¹èµã€æ”¶è—ã€æµè§ˆï¼‰
- å¤šç­–ç•¥æ¨èï¼ˆä¸ªæ€§åŒ–ã€ç›¸ä¼¼å†…å®¹ã€ç›¸ä¼¼ä½œè€…ã€çƒ­é—¨ï¼‰
- ä¸ PostgreSQL/Redis æ— ç¼é›†æˆ

### 3. DDD é¢†åŸŸé©±åŠ¨è®¾è®¡
- æ¸…æ™°çš„åˆ†å±‚æ¶æ„ï¼ˆDomain â†’ Service â†’ Repo â†’ DAO/Cacheï¼‰
- æ¨¡å—ç‹¬ç«‹éƒ¨ç½²èƒ½åŠ›
- é¢†åŸŸäº‹ä»¶é©±åŠ¨æ¨¡å—é€šä¿¡

### 4. æ¨æ‹‰ç»“åˆçš„ Feed æµ
- æ¨æ¨¡å¼ï¼šå‘å¸ƒæ—¶æ¨é€ç»™æ´»è·ƒç²‰ä¸ï¼Œé™ä½è¯»å»¶è¿Ÿ
- æ‹‰æ¨¡å¼ï¼šä¿è¯å†…å®¹å®æ—¶æ€§
- æ™ºèƒ½åˆ¤æ–­ï¼šåŸºäºç”¨æˆ·æ´»è·ƒåº¦é€‰æ‹©æ¨é€ç­–ç•¥

### 5. å‰ç«¯å·¥ç¨‹åŒ–
- TypeScript å…¨é¢ç±»å‹å®‰å…¨
- ç»„ä»¶åŒ–è®¾è®¡ï¼Œå¯å¤ç”¨æ€§é«˜
- Pinia æ¨¡å—åŒ–çŠ¶æ€ç®¡ç†
- è™šæ‹Ÿæ»šåŠ¨ã€æ‡’åŠ è½½ç­‰æ€§èƒ½ä¼˜åŒ–

### 6. å®Œæ•´çš„å¯è§‚æµ‹æ€§
- Prometheus + Grafanaï¼šå®æ—¶ç›‘æ§
- Jaegerï¼šåˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª
- ç»“æ„åŒ–æ—¥å¿—ï¼šç»Ÿä¸€æ—¥å¿—æ ¼å¼
- æ€§èƒ½æŒ‡æ ‡ï¼šGORM æŸ¥è¯¢ç›‘æ§

---

### ğŸ“š é¡¹ç›® Wiki æ–‡æ¡£

InkFlow é¡¹ç›®è¯¦ç»†çš„æŠ€æœ¯æ–‡æ¡£ã€æ¶æ„è®¾è®¡ã€API æ¥å£è¯´æ˜ç­‰è¯·è®¿é—®ä»¥ä¸‹ Wikiï¼š

ğŸ‘‰ **Wiki æ–‡æ¡£åœ°å€**ï¼š [https://deepwiki.com/KNICEX/InkFlow](https://deepwiki.com/KNICEX/InkFlow)

---

### ğŸ–¼ï¸ Web ç«¯ UI å±•ç¤º

InkFlow æä¾›ç®€æ´ç›´è§‚çš„å‰ç«¯ç•Œé¢ï¼Œæ”¯æŒå†…å®¹åˆ›ä½œã€å‘å¸ƒã€å®¡æ ¸ã€äº’åŠ¨ã€æœç´¢ç­‰å®Œæ•´ç¤¾åŒºåŠŸèƒ½ã€‚

ä»¥ä¸‹ä¸ºéƒ¨åˆ† UI æˆªå›¾ï¼š

#### ğŸ  é¦–é¡µ Feed æµ

![é¦–é¡µ Feed æµ](./docs/images/home_feed.png)

#### âœï¸ å‘å¸ƒå†…å®¹ç•Œé¢

![å‘å¸ƒå†…å®¹](./docs/images/post_editor.png)

#### ğŸ” æœç´¢ä¸æ ‡ç­¾æµè§ˆ

![å†…å®¹å…³ç³»](./docs/images/content_relation.png)

#### ğŸ“¬ é€šçŸ¥ä¸­å¿ƒä¸è¯„è®ºäº’åŠ¨

![ç³»ç»Ÿé€šçŸ¥](./docs/images/notification_system.png)

> ğŸ’¡ å¦‚æœä½ åœ¨æœ¬åœ°è¿è¡Œå‰ç«¯é¡¹ç›®ï¼Œå¯é€šè¿‡ `http://localhost:5173` æˆ–æŒ‡å®šç«¯å£è®¿é—® UI é¡µé¢ã€‚

---


## ğŸ§© åç«¯æ¨¡å—è¯´æ˜

| æ¨¡å—          | æè¿°                                                         | å…³é”®ç‰¹æ€§ |
|---------------|--------------------------------------------------------------|----------|
| `bff`         | Backend for Frontendï¼Œç»Ÿä¸€ API ç½‘å…³                           | Gin è·¯ç”±ã€JWT ä¸­é—´ä»¶ã€è¯·æ±‚èšåˆ |
| `user`        | ç”¨æˆ·ç®¡ç†ä¸è®¤è¯                                               | æ³¨å†Œç™»å½•ã€OAuth2ï¼ˆGitHubï¼‰ã€ç”¨æˆ·èµ„æ–™ |
| `ink`         | å†…å®¹åˆ›ä½œä¸ç®¡ç†                                               | è‰ç¨¿ç¼–è¾‘ã€Markdown æ”¯æŒã€çƒ­åº¦æ’å |
| `review`      | AI å®¡æ ¸ç³»ç»Ÿ                                                  | Gemini AI å®¡æ ¸ã€å¤±è´¥é‡è¯•ã€æ™ºèƒ½æ ‡ç­¾ç”Ÿæˆ |
| `comment`     | è¯„è®ºç³»ç»Ÿ                                                     | å¤šçº§è¯„è®ºã€çƒ­è¯„æ’åºã€æ•æ„Ÿè¯è¿‡æ»¤ |
| `relation`    | ç¤¾äº¤å…³ç³»                                                     | å…³æ³¨/å–å…³ã€ç²‰ä¸åˆ—è¡¨ã€äº‹ä»¶æ¨é€ |
| `interactive` | äº’åŠ¨ç»Ÿè®¡                                                     | ç‚¹èµã€æ”¶è—ã€æµè§ˆè®¡æ•°ã€è¡Œä¸ºè®°å½• |
| `feed`        | Feed æµæœåŠ¡                                                  | æ¨æ‹‰ç»“åˆã€å…³æ³¨æµã€æ¨èæµã€çƒ­é—¨æµ |
| `search`      | å…¨æ–‡æœç´¢                                                     | Meilisearch ç´¢å¼•ã€Kafka åŒæ­¥ |
| `notification`| é€šçŸ¥ä¸­å¿ƒ                                                     | å¤šç±»å‹é€šçŸ¥ã€å·²è¯»ç®¡ç†ã€æ‰¹é‡æ“ä½œ |
| `recommend`   | æ¨èå¼•æ“                                                     | Gorse é›†æˆã€ç›¸ä¼¼æ¨èã€ä¸ªæ€§åŒ–æ¨è |
| `workflow`    | å·¥ä½œæµç¼–æ’                                                   | Temporal å·¥ä½œæµã€å®šæ—¶ä»»åŠ¡ã€é‡è¯• |
| `poll`        | æŠ•ç¥¨ç³»ç»Ÿ                                                     | é—®å·åˆ›å»ºã€æŠ•ç¥¨ç»Ÿè®¡ |
| `action`      | ç”¨æˆ·è¡Œä¸ºè¿½è¸ª                                                 | æ´»è·ƒåº¦åˆ†æã€æ¨é€ç­–ç•¥ä¼˜åŒ– |
| `email`       | é‚®ä»¶æœåŠ¡                                                     | éªŒè¯ç å‘é€ã€é€šçŸ¥é‚®ä»¶ |
| `code`        | éªŒè¯ç ç®¡ç†                                                   | Redis ç¼“å­˜ã€è¿‡æœŸæ§åˆ¶ |
| `ai`          | AI æœåŠ¡å°è£…                                                  | LLM å¤šæ¨¡å‹æ”¯æŒã€Failover å®¹é”™ |

## ğŸ¨ å‰ç«¯é¡µé¢è¯´æ˜

| é¡µé¢/æ¨¡å— | åŠŸèƒ½è¯´æ˜ | ä¸»è¦ç»„ä»¶ |
|----------|---------|---------|
| **é¦–é¡µ** | Feed æµæµè§ˆï¼ˆå…³æ³¨/æ¨è/çƒ­é—¨ï¼‰ | `HomeView`, `HomeList`, `InkCard` |
| **å†…å®¹è¯¦æƒ…** | å†…å®¹æŸ¥çœ‹ã€è¯„è®ºäº’åŠ¨ | `InkDetail`, `CommentList`, `CommentItem` |
| **ç¼–è¾‘å™¨** | Markdown ç¼–è¾‘ã€è‰ç¨¿ç®¡ç† | `InkEditor`, `MilkdownEditor`, `InkForm` |
| **æœç´¢** | å…¨æ–‡æœç´¢ï¼ˆå†…å®¹/ç”¨æˆ·/æ ‡ç­¾ï¼‰ | `SearchView`, `SearchInk`, `SearchUser` |
| **ç”¨æˆ·ä¸»é¡µ** | ä¸ªäººèµ„æ–™ã€å†…å®¹åˆ—è¡¨ã€å…³æ³¨åˆ—è¡¨ | `UserView`, `UserInkList`, `FollowUserList` |
| **ä¸ªäººä¸­å¿ƒ** | è‰ç¨¿ç®¡ç†ã€èµ„æ–™ç¼–è¾‘ã€é€šçŸ¥ä¸­å¿ƒ | `DashboardLayout`, `DashboardContent` |
| **é€šçŸ¥ä¸­å¿ƒ** | ç‚¹èµ/è¯„è®º/å…³æ³¨/ç³»ç»Ÿé€šçŸ¥ | `NotificationPop`, `LikeList`, `ReplyList` |


---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- è¯­è¨€ï¼šGo 1.24.0+
- Web æ¡†æ¶ï¼š[Gin](https://gin-gonic.com/)
- ORMï¼šGORM + PostgreSQL
- ç¼“å­˜ï¼šRedis
- æ¶ˆæ¯é˜Ÿåˆ—ï¼šKafka
- æœç´¢å¼•æ“ï¼š[Meilisearch](https://www.meilisearch.com/)
- æ¨èæœåŠ¡ï¼šGorse
- å®¡æ ¸æœåŠ¡ï¼šAI å®¡æ ¸å¹³å°ï¼ˆå¯å¯¹æ¥ google/Geminiï¼‰
- æ—¥å¿—ä¸é…ç½®ï¼šzap + viper

---

## ğŸ§¾ é¡¹ç›®ç»“æ„

### ğŸ“ åç«¯ç›®å½•ç»“æ„ï¼ˆGoï¼‰

```bash
InkFlow/
â”œâ”€â”€ main.go                      # åº”ç”¨å…¥å£ï¼Œå¯åŠ¨ Web æœåŠ¡ã€Kafka æ¶ˆè´¹è€…ã€Temporal Worker
â”œâ”€â”€ go.mod / go.sum              # Go ä¾èµ–ç®¡ç†
â”‚
â”œâ”€â”€ config/                      # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ config.temp.yaml         # é…ç½®æ¨¡æ¿
â”‚   â”œâ”€â”€ gorse/                   # Gorse æ¨èå¼•æ“é…ç½®
â”‚   â””â”€â”€ nginx/                   # Nginx é…ç½®ï¼ˆå¯é€‰ï¼‰
â”‚
â”œâ”€â”€ ioc/                         # IoC å®¹å™¨ï¼ˆä¾èµ–æ³¨å…¥ï¼‰
â”‚   â”œâ”€â”€ app.go                   # åº”ç”¨åˆå§‹åŒ–å…¥å£
â”‚   â”œâ”€â”€ db.go                    # æ•°æ®åº“åˆå§‹åŒ–ï¼ˆPostgreSQL + GORMï¼‰
â”‚   â”œâ”€â”€ redis.go                 # Redis åˆå§‹åŒ–
â”‚   â”œâ”€â”€ kafka.go                 # Kafka ç”Ÿäº§è€…/æ¶ˆè´¹è€…åˆå§‹åŒ–
â”‚   â”œâ”€â”€ meili.go                 # Meilisearch å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ gorse.go                 # Gorse æ¨èå¼•æ“å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ temporal.go              # Temporal å·¥ä½œæµå¼•æ“
â”‚   â”œâ”€â”€ llm.go                   # AI/LLM æœåŠ¡ï¼ˆGeminiï¼‰
â”‚   â”œâ”€â”€ email.go                 # é‚®ä»¶æœåŠ¡
â”‚   â”œâ”€â”€ web.go                   # Web æœåŠ¡å™¨ï¼ˆGinï¼‰
â”‚   â”œâ”€â”€ otel.go                  # OpenTelemetry é“¾è·¯è¿½è¸ª
â”‚   â”œâ”€â”€ wire.go                  # Wire ä¾èµ–æ³¨å…¥é…ç½®
â”‚   â””â”€â”€ wire_gen.go              # Wire è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç 
â”‚
â”œâ”€â”€ pkg/                         # é€šç”¨å·¥å…·åº“ï¼ˆå¯å¤ç”¨ï¼‰
â”‚   â”œâ”€â”€ ginx/                    # Gin æ‰©å±•
â”‚   â”‚   â”œâ”€â”€ handler.go           # ç»Ÿä¸€å“åº”å¤„ç†
â”‚   â”‚   â”œâ”€â”€ wrap.go              # Handler åŒ…è£…å™¨
â”‚   â”‚   â”œâ”€â”€ jwt/                 # JWT è®¤è¯
â”‚   â”‚   â”œâ”€â”€ middleware/          # ä¸­é—´ä»¶ï¼ˆé™æµã€æ—¥å¿—ã€CORSï¼‰
â”‚   â”‚   â””â”€â”€ session/             # Session ç®¡ç†
â”‚   â”œâ”€â”€ gormx/                   # GORM æ‰©å±•ï¼ˆé”™è¯¯å¤„ç†ã€Prometheus ç›‘æ§ï¼‰
â”‚   â”œâ”€â”€ gorsex/                  # Gorse å®¢æˆ·ç«¯å°è£…
â”‚   â”œâ”€â”€ logx/                    # æ—¥å¿—å°è£…ï¼ˆZap/Logrusï¼‰
â”‚   â”œâ”€â”€ saramax/                 # Kafka æ¶ˆæ¯å¤„ç†å°è£…
â”‚   â”œâ”€â”€ temporalx/               # Temporal å·¥å…·å°è£…
â”‚   â”œâ”€â”€ ratelimit/               # é™æµå™¨
â”‚   â”œâ”€â”€ snowflakex/              # é›ªèŠ± ID ç”Ÿæˆå™¨
â”‚   â””â”€â”€ ...                      # å…¶ä»–å·¥å…·åŒ…
â”‚
â”œâ”€â”€ internal/                    # ä¸šåŠ¡æ¨¡å—ï¼ˆDDD åˆ†å±‚æ¶æ„ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ bff/                     # Backend for Frontendï¼ˆAPI ç½‘å…³å±‚ï¼‰
â”‚   â”‚   â”œâ”€â”€ internal/
â”‚   â”‚   â”‚   â”œâ”€â”€ web/             # HTTP å¤„ç†å™¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ user.go      # ç”¨æˆ·ç›¸å…³ API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ink.go       # å†…å®¹ç›¸å…³ API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ feed.go      # Feed æµ API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ search.go    # æœç´¢ API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ recommend.go # æ¨è API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ aggregate.go # èšåˆæœåŠ¡ï¼ˆå¤šæ¨¡å—æ•°æ®èšåˆï¼‰
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚   â””â”€â”€ service/         # BFF ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ init.go              # æ¨¡å—åˆå§‹åŒ–
â”‚   â”‚   â”œâ”€â”€ wire.go              # ä¾èµ–æ³¨å…¥é…ç½®
â”‚   â”‚   â””â”€â”€ wire_gen.go          # Wire ç”Ÿæˆä»£ç 
â”‚   â”‚
â”‚   â”œâ”€â”€ user/                    # ç”¨æˆ·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ internal/
â”‚   â”‚   â”‚   â”œâ”€â”€ domain/          # é¢†åŸŸæ¨¡å‹ï¼ˆUser å®ä½“ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ service/         # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ user.go      # ç”¨æˆ·æœåŠ¡
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ oauth2/      # OAuth2 ç™»å½•ï¼ˆGitHubï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ repo/            # æ•°æ®ä»“å‚¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ user.go      # ä»“å‚¨æ¥å£å®ç°
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dao/         # æ•°æ®è®¿é—®å¯¹è±¡ï¼ˆGORMï¼‰
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ cache/       # Redis ç¼“å­˜å±‚
â”‚   â”‚   â”‚   â””â”€â”€ event/           # é¢†åŸŸäº‹ä»¶ï¼ˆKafka å‘å¸ƒï¼‰
â”‚   â”‚   â”œâ”€â”€ types.go             # å¯¹å¤–æš´éœ²çš„ç±»å‹å’Œæ¥å£
â”‚   â”‚   â””â”€â”€ wire.go              # æ¨¡å—ä¾èµ–æ³¨å…¥
â”‚   â”‚
â”‚   â”œâ”€â”€ ink/                     # å†…å®¹æ¨¡å—ï¼ˆç»“æ„åŒ user æ¨¡å—ï¼‰
â”‚   â”‚   â”œâ”€â”€ internal/
â”‚   â”‚   â”‚   â”œâ”€â”€ domain/          # Ink é¢†åŸŸæ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ service/         # è‰ç¨¿ç®¡ç†ã€å‘å¸ƒã€æ’å
â”‚   â”‚   â”‚   â”œâ”€â”€ repo/            # ä»“å‚¨ï¼ˆè‰ç¨¿åº“ã€çº¿ä¸Šåº“åˆ†ç¦»ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ events/          # å‘å¸ƒäº‹ä»¶
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ review/                  # AI å®¡æ ¸æ¨¡å—
â”‚   â”œâ”€â”€ comment/                 # è¯„è®ºæ¨¡å—
â”‚   â”œâ”€â”€ search/                  # æœç´¢æ¨¡å—ï¼ˆMeilisearchï¼‰
â”‚   â”œâ”€â”€ relation/                # å…³æ³¨å…³ç³»æ¨¡å—
â”‚   â”œâ”€â”€ interactive/             # äº’åŠ¨ç»Ÿè®¡æ¨¡å—
â”‚   â”œâ”€â”€ feed/                    # Feed æµæ¨¡å—
â”‚   â”œâ”€â”€ notification/            # é€šçŸ¥æ¨¡å—
â”‚   â”œâ”€â”€ recommend/               # æ¨èæ¨¡å—ï¼ˆGorseï¼‰
â”‚   â”œâ”€â”€ poll/                    # æŠ•ç¥¨æ¨¡å—
â”‚   â”œâ”€â”€ action/                  # ç”¨æˆ·è¡Œä¸ºè¿½è¸ª
â”‚   â”œâ”€â”€ email/                   # é‚®ä»¶æœåŠ¡
â”‚   â”œâ”€â”€ code/                    # éªŒè¯ç æœåŠ¡
â”‚   â”œâ”€â”€ ai/                      # AI æœåŠ¡å°è£…
â”‚   â”‚
â”‚   â””â”€â”€ workflow/                # Temporal å·¥ä½œæµ
â”‚       â”œâ”€â”€ inkpub/              # å†…å®¹å‘å¸ƒå·¥ä½œæµ
â”‚       â”‚   â”œâ”€â”€ workflow.go      # å·¥ä½œæµå®šä¹‰
â”‚       â”‚   â””â”€â”€ activities.go    # æ´»åŠ¨ï¼ˆActivityï¼‰å®ç°
â”‚       â””â”€â”€ schedule/            # å®šæ—¶ä»»åŠ¡å·¥ä½œæµ
â”‚           â”œâ”€â”€ ranking.go       # çƒ­åº¦æ’åå®šæ—¶ä»»åŠ¡
â”‚           â”œâ”€â”€ rank_activities.go
â”‚           â””â”€â”€ review_failover.go # å®¡æ ¸å¤±è´¥é‡è¯•
â”‚
â”œâ”€â”€ script/                      # è„šæœ¬
â”‚   â””â”€â”€ postgres/
â”‚       â””â”€â”€ init.sql             # æ•°æ®åº“åˆå§‹åŒ– SQL
â”‚
â”œâ”€â”€ docs/                        # æ–‡æ¡£å’Œæˆªå›¾
â”‚   â””â”€â”€ images/
â”‚
â”œâ”€â”€ docker-compose.yaml          # Docker å®¹å™¨ç¼–æ’
â””â”€â”€ prometheus.yaml              # Prometheus ç›‘æ§é…ç½®
```

### ğŸ¨ å‰ç«¯ç›®å½•ç»“æ„ï¼ˆVue 3ï¼‰

```bash
ink-flow-web/
â”œâ”€â”€ index.html                   # HTML å…¥å£
â”œâ”€â”€ package.json                 # npm ä¾èµ–é…ç½®
â”œâ”€â”€ pnpm-lock.yaml               # pnpm é”æ–‡ä»¶
â”œâ”€â”€ vite.config.ts               # Vite æ„å»ºé…ç½®
â”œâ”€â”€ tsconfig.json                # TypeScript é…ç½®
â”œâ”€â”€ eslint.config.ts             # ESLint ä»£ç è§„èŒƒ
â”‚
â”œâ”€â”€ public/                      # é™æ€èµ„æº
â”‚   â””â”€â”€ favicon.ico
â”‚
â””â”€â”€ src/                         # æºä»£ç 
    â”œâ”€â”€ main.ts                  # åº”ç”¨å…¥å£
    â”œâ”€â”€ App.vue                  # æ ¹ç»„ä»¶
    â”‚
    â”œâ”€â”€ router/                  # Vue Router è·¯ç”±é…ç½®
    â”‚   â””â”€â”€ index.ts             # è·¯ç”±å®šä¹‰
    â”‚
    â”œâ”€â”€ stores/                  # Pinia çŠ¶æ€ç®¡ç†
    â”‚   â”œâ”€â”€ user.ts              # ç”¨æˆ·çŠ¶æ€ï¼ˆç™»å½•ä¿¡æ¯ã€ä¸ªäººèµ„æ–™ï¼‰
    â”‚   â”œâ”€â”€ theme.ts             # ä¸»é¢˜çŠ¶æ€ï¼ˆæš—é»‘æ¨¡å¼ï¼‰
    â”‚   â”œâ”€â”€ notification.ts      # é€šçŸ¥çŠ¶æ€
    â”‚   â””â”€â”€ search.ts            # æœç´¢çŠ¶æ€
    â”‚
    â”œâ”€â”€ service/                 # API æœåŠ¡å°è£…
    â”‚   â”œâ”€â”€ axios.ts             # Axios é…ç½®ï¼ˆæ‹¦æˆªå™¨ã€ç»Ÿä¸€é”™è¯¯å¤„ç†ï¼‰
    â”‚   â”œâ”€â”€ user.ts              # ç”¨æˆ·ç›¸å…³ API
    â”‚   â”œâ”€â”€ ink.ts               # å†…å®¹ç›¸å…³ API
    â”‚   â”œâ”€â”€ feed.ts              # Feed æµ API
    â”‚   â”œâ”€â”€ search.ts            # æœç´¢ API
    â”‚   â”œâ”€â”€ recommend.ts         # æ¨è API
    â”‚   â”œâ”€â”€ comment.ts           # è¯„è®º API
    â”‚   â”œâ”€â”€ interactive.ts       # äº’åŠ¨ï¼ˆç‚¹èµ/æ”¶è—ï¼‰API
    â”‚   â”œâ”€â”€ relation.ts          # å…³æ³¨å…³ç³» API
    â”‚   â”œâ”€â”€ notification.ts      # é€šçŸ¥ API
    â”‚   â”œâ”€â”€ stats.ts             # ç»Ÿè®¡ API
    â”‚   â””â”€â”€ file.ts              # æ–‡ä»¶ä¸Šä¼  API
    â”‚
    â”œâ”€â”€ types/                   # TypeScript ç±»å‹å®šä¹‰
    â”‚   â”œâ”€â”€ user.ts              # User ç±»å‹
    â”‚   â”œâ”€â”€ ink.ts               # Ink ç±»å‹
    â”‚   â”œâ”€â”€ comment.ts           # Comment ç±»å‹
    â”‚   â”œâ”€â”€ notification.ts      # Notification ç±»å‹
    â”‚   â”œâ”€â”€ interactive.ts       # Interactive ç±»å‹
    â”‚   â””â”€â”€ stats.ts             # Stats ç±»å‹
    â”‚
    â”œâ”€â”€ components/              # Vue ç»„ä»¶ï¼ˆ50+ å¯å¤ç”¨ç»„ä»¶ï¼‰
    â”‚   â”œâ”€â”€ editor/              # Markdown ç¼–è¾‘å™¨
    â”‚   â”‚   â””â”€â”€ milkdown/        # Milkdown ç¼–è¾‘å™¨å°è£…
    â”‚   â”œâ”€â”€ list/                # åˆ—è¡¨ç»„ä»¶
    â”‚   â”‚   â”œâ”€â”€ ink/             # å†…å®¹åˆ—è¡¨ï¼ˆå¤šç§å¸ƒå±€ï¼‰
    â”‚   â”‚   â”œâ”€â”€ user/            # ç”¨æˆ·åˆ—è¡¨
    â”‚   â”‚   â””â”€â”€ comment/         # è¯„è®ºåˆ—è¡¨
    â”‚   â”œâ”€â”€ notification/        # é€šçŸ¥ç»„ä»¶
    â”‚   â”‚   â”œâ”€â”€ LikeList.vue     # ç‚¹èµé€šçŸ¥åˆ—è¡¨
    â”‚   â”‚   â”œâ”€â”€ ReplyList.vue    # å›å¤é€šçŸ¥åˆ—è¡¨
    â”‚   â”‚   â”œâ”€â”€ FollowList.vue   # å…³æ³¨é€šçŸ¥åˆ—è¡¨
    â”‚   â”‚   â””â”€â”€ SystemList.vue   # ç³»ç»Ÿé€šçŸ¥åˆ—è¡¨
    â”‚   â”œâ”€â”€ card/                # å¡ç‰‡ç»„ä»¶
    â”‚   â”œâ”€â”€ form/                # è¡¨å•ç»„ä»¶
    â”‚   â”œâ”€â”€ image/               # å›¾ç‰‡ç»„ä»¶ï¼ˆè£å‰ªã€ä¸Šä¼ ï¼‰
    â”‚   â”œâ”€â”€ upload/              # ä¸Šä¼ ç»„ä»¶
    â”‚   â”œâ”€â”€ tags/                # æ ‡ç­¾ç»„ä»¶
    â”‚   â”œâ”€â”€ nav/                 # å¯¼èˆªç»„ä»¶
    â”‚   â”œâ”€â”€ menu/                # èœå•ç»„ä»¶
    â”‚   â”œâ”€â”€ popover/             # å¼¹å‡ºæ¡†ç»„ä»¶
    â”‚   â”œâ”€â”€ loading/             # åŠ è½½åŠ¨ç”»
    â”‚   â”œâ”€â”€ empty/               # ç©ºçŠ¶æ€
    â”‚   â””â”€â”€ ...                  # å…¶ä»–é€šç”¨ç»„ä»¶
    â”‚
    â”œâ”€â”€ views/                   # é¡µé¢çº§ç»„ä»¶
    â”‚   â”œâ”€â”€ LayoutView.vue       # æ•´ä½“å¸ƒå±€
    â”‚   â”œâ”€â”€ header/              # é¡¶éƒ¨å¯¼èˆª
    â”‚   â”‚   â”œâ”€â”€ HeaderView.vue   # é¡¶éƒ¨å¯¼èˆªæ 
    â”‚   â”‚   â”œâ”€â”€ NotificationPop.vue # é€šçŸ¥å¼¹çª—
    â”‚   â”‚   â””â”€â”€ UserPop.vue      # ç”¨æˆ·èœå•
    â”‚   â”œâ”€â”€ home/                # é¦–é¡µ
    â”‚   â”‚   â”œâ”€â”€ HomeView.vue     # é¦–é¡µå®¹å™¨
    â”‚   â”‚   â”œâ”€â”€ HomeList.vue     # Feed æµåˆ—è¡¨
    â”‚   â”‚   â””â”€â”€ HomeAside.vue    # ä¾§è¾¹æ ï¼ˆçƒ­é—¨æ ‡ç­¾ã€æ¨èç”¨æˆ·ï¼‰
    â”‚   â”œâ”€â”€ ink/                 # å†…å®¹è¯¦æƒ…é¡µ
    â”‚   â”‚   â”œâ”€â”€ InkDetail.vue    # å†…å®¹è¯¦æƒ…
    â”‚   â”‚   â””â”€â”€ CommentView.vue  # è¯„è®ºåŒº
    â”‚   â”œâ”€â”€ user/                # ç”¨æˆ·ä¸»é¡µ
    â”‚   â”‚   â”œâ”€â”€ UserView.vue     # ç”¨æˆ·ä¸»é¡µå®¹å™¨
    â”‚   â”‚   â”œâ”€â”€ UserInkList.vue  # ç”¨æˆ·å‘å¸ƒçš„å†…å®¹
    â”‚   â”‚   â”œâ”€â”€ InkLiked.vue     # ç”¨æˆ·ç‚¹èµçš„å†…å®¹
    â”‚   â”‚   â”œâ”€â”€ InkViewed.vue    # æµè§ˆå†å²
    â”‚   â”‚   â”œâ”€â”€ UserFavorites.vue # æ”¶è—åˆ—è¡¨
    â”‚   â”‚   â”œâ”€â”€ UserFollowing.vue # å…³æ³¨åˆ—è¡¨
    â”‚   â”‚   â””â”€â”€ UserFollowers.vue # ç²‰ä¸åˆ—è¡¨
    â”‚   â”œâ”€â”€ dashboard/           # ä¸ªäººä¸­å¿ƒï¼ˆåˆ›ä½œè€…ä¸­å¿ƒï¼‰
    â”‚   â”‚   â”œâ”€â”€ DashboardLayout.vue   # ä¸ªäººä¸­å¿ƒå¸ƒå±€
    â”‚   â”‚   â”œâ”€â”€ DashboardHome.vue     # ä¸ªäººä¸­å¿ƒé¦–é¡µ
    â”‚   â”‚   â”œâ”€â”€ DashboardContent.vue  # å†…å®¹ç®¡ç†
    â”‚   â”‚   â”œâ”€â”€ InkEditor.vue         # Markdown ç¼–è¾‘å™¨é¡µé¢
    â”‚   â”‚   â”œâ”€â”€ InkView.vue           # è‰ç¨¿é¢„è§ˆ
    â”‚   â”‚   â”œâ”€â”€ UserInfoEditor.vue    # ä¸ªäººèµ„æ–™ç¼–è¾‘
    â”‚   â”‚   â””â”€â”€ notification/         # é€šçŸ¥ä¸­å¿ƒ
    â”‚   â”‚       â”œâ”€â”€ LikeView.vue      # ç‚¹èµé€šçŸ¥
    â”‚   â”‚       â”œâ”€â”€ ReplyView.vue     # å›å¤é€šçŸ¥
    â”‚   â”‚       â”œâ”€â”€ FollowView.vue    # å…³æ³¨é€šçŸ¥
    â”‚   â”‚       â””â”€â”€ SystemView.vue    # ç³»ç»Ÿé€šçŸ¥
    â”‚   â”œâ”€â”€ search/              # æœç´¢é¡µ
    â”‚   â”‚   â”œâ”€â”€ SearchView.vue   # æœç´¢å®¹å™¨
    â”‚   â”‚   â”œâ”€â”€ SearchInk.vue    # å†…å®¹æœç´¢ç»“æœ
    â”‚   â”‚   â”œâ”€â”€ SearchUser.vue   # ç”¨æˆ·æœç´¢ç»“æœ
    â”‚   â”‚   â””â”€â”€ SearchReply.vue  # è¯„è®ºæœç´¢ç»“æœ
    â”‚   â””â”€â”€ login/               # ç™»å½•/æ³¨å†Œé¡µ
    â”‚       â”œâ”€â”€ LoginView.vue    # ç™»å½•é¡µå®¹å™¨
    â”‚       â”œâ”€â”€ EmailPwd.vue     # é‚®ç®±å¯†ç ç™»å½•
    â”‚       â”œâ”€â”€ EmailCode.vue    # é‚®ç®±éªŒè¯ç ç™»å½•
    â”‚       â””â”€â”€ EmailRegister.vue # é‚®ç®±æ³¨å†Œ
    â”‚
    â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°
    â”‚   â”œâ”€â”€ date.ts              # æ—¥æœŸæ ¼å¼åŒ–
    â”‚   â”œâ”€â”€ message.ts           # æ¶ˆæ¯æç¤ºå°è£…
    â”‚   â”œâ”€â”€ notification.ts      # é€šçŸ¥å·¥å…·
    â”‚   â”œâ”€â”€ parse.ts             # æ•°æ®è§£æ
    â”‚   â””â”€â”€ ...
    â”‚
    â”œâ”€â”€ hook/                    # ç»„åˆå¼å‡½æ•°ï¼ˆComposablesï¼‰
    â”‚   â”œâ”€â”€ active.ts            # æ´»è·ƒçŠ¶æ€æ£€æµ‹
    â”‚   â”œâ”€â”€ follow.ts            # å…³æ³¨é€»è¾‘å¤ç”¨
    â”‚   â”œâ”€â”€ interactive.ts       # äº’åŠ¨é€»è¾‘å¤ç”¨
    â”‚   â””â”€â”€ ...
    â”‚
    â”œâ”€â”€ assets/                  # æ ·å¼å’Œé™æ€èµ„æº
    â”‚   â”œâ”€â”€ main.scss            # å…¨å±€æ ·å¼
    â”‚   â”œâ”€â”€ base.scss            # åŸºç¡€æ ·å¼
    â”‚   â”œâ”€â”€ element.scss         # Element Plus æ ·å¼è¦†ç›–
    â”‚   â””â”€â”€ logo.svg
    â”‚
    â””â”€â”€ consts/                  # å¸¸é‡å®šä¹‰
        â””â”€â”€ default.ts           # é»˜è®¤å€¼å¸¸é‡
```

### ğŸ¯ æ¨¡å—ç»“æ„è¯´æ˜ï¼ˆDDD åˆ†å±‚ï¼‰

æ¯ä¸ªåç«¯ä¸šåŠ¡æ¨¡å—éƒ½éµå¾ªç›¸åŒçš„ DDD åˆ†å±‚ç»“æ„ï¼š

```
module/                    # ä¸šåŠ¡æ¨¡å—ï¼ˆå¦‚ userã€ink ç­‰ï¼‰
â”œâ”€â”€ internal/              # å†…éƒ¨å®ç°ï¼ˆä¸å¯¹å¤–æš´éœ²ï¼‰
â”‚   â”œâ”€â”€ domain/            # é¢†åŸŸå±‚
â”‚   â”‚   â””â”€â”€ *.go           # é¢†åŸŸæ¨¡å‹ã€å®ä½“ã€å€¼å¯¹è±¡
â”‚   â”œâ”€â”€ service/           # åº”ç”¨æœåŠ¡å±‚
â”‚   â”‚   â””â”€â”€ *.go           # ä¸šåŠ¡é€»è¾‘ç¼–æ’
â”‚   â”œâ”€â”€ repo/              # ä»“å‚¨å±‚ï¼ˆæ•°æ®è®¿é—®æŠ½è±¡ï¼‰
â”‚   â”‚   â”œâ”€â”€ *.go           # ä»“å‚¨æ¥å£å®ç°
â”‚   â”‚   â”œâ”€â”€ dao/           # æ•°æ®è®¿é—®å¯¹è±¡ï¼ˆGORM æ“ä½œï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ init.go    # GORM è¡¨å®šä¹‰
â”‚   â”‚   â”‚   â””â”€â”€ *.go       # æ•°æ®åº“æ“ä½œ
â”‚   â”‚   â””â”€â”€ cache/         # ç¼“å­˜å±‚ï¼ˆRedis æ“ä½œï¼‰
â”‚   â”‚       â”œâ”€â”€ *.go       # ç¼“å­˜é€»è¾‘
â”‚   â”‚       â””â”€â”€ lua/       # Lua è„šæœ¬ï¼ˆåŸå­æ“ä½œï¼‰
â”‚   â””â”€â”€ event/             # äº‹ä»¶å±‚ï¼ˆé¢†åŸŸäº‹ä»¶ï¼‰
â”‚       â”œâ”€â”€ event.go       # äº‹ä»¶å®šä¹‰
â”‚       â”œâ”€â”€ producer.go    # Kafka äº‹ä»¶å‘å¸ƒ
â”‚       â””â”€â”€ consumer.go    # Kafka äº‹ä»¶æ¶ˆè´¹ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ types.go               # å¯¹å¤–æš´éœ²çš„ç±»å‹å®šä¹‰å’Œæ¥å£
â”œâ”€â”€ wire.go                # Wire ä¾èµ–æ³¨å…¥é…ç½®
â””â”€â”€ wire_gen.go            # Wire è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç ï¼ˆä¸è¦æ‰‹åŠ¨ä¿®æ”¹ï¼‰
```

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### âœ… ç¯å¢ƒä¾èµ–

- Go 1.24.0+
- Node.js 18+ å’Œ pnpmï¼ˆç”¨äºå‰ç«¯å¼€å‘ï¼‰
- Dockerï¼ˆç”¨äºå¯åŠ¨æ‰€æœ‰ä¾èµ–æœåŠ¡ï¼‰
- Git

---

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/yourname/inkflow.git
cd inkflow
```
---

### 2. å¯åŠ¨ä¾èµ–æœåŠ¡ï¼ˆæ¨èï¼‰

ä½¿ç”¨å†…ç½® `docker-compose.yml` å¯åŠ¨ PostgreSQLã€Redisã€Kafkaã€Meilisearchï¼š

```bash
docker-compose up -d
```
---

### 3. é…ç½®æœåŠ¡

å¤åˆ¶é…ç½®æ¨¡æ¿å¹¶æ ¹æ®æœ¬åœ°ç¯å¢ƒä¿®æ”¹å‚æ•°ï¼š

```bash
cp config/config.yaml.example config/config.yaml
```
#### ğŸ› ï¸ ç¤ºä¾‹é…ç½®æ–‡ä»¶å†…å®¹ï¼ˆ`config.yaml`ï¼‰

```yaml
postgres:
  dsn: "host=localhost user=root password=root dbname=ink_flow port=15432"

redis:
  addr: 127.0.0.1:16379
  password: 123456

# å¯é€‰ï¼šå¦‚ä½¿ç”¨ ElasticSearchï¼ˆé»˜è®¤æœªå¯ç”¨ï¼‰
# es:
#   addr: 127.0.0.1:9200
#   sniff: false

meilisearch:
  addr: http://127.0.0.1:7700
  master_key: your_master_key

email:
  smtp:
    username: example@gmail.com
    password: password
    port: 587
    host: smtp.gmail.com
    from_name: InkFlow

llm:
  gemini:
    key:
      - key

otel:
  grpc:
    endpoint: localhost:4317
    insecure: true

kafka:
  addrs:
    - localhost:9094

file:
  cloudinary:
    key: your_key
    secret: your_secret
    cloud_name: your_cloud_name

temporal:
  addr: localhost:7233
  namespace: inkflow
  domain: default

gorse:
  addr: http://localhost:8088
  api_key: your_api_key

```



